<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Chiromo Mental Health System{% endblock %}</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        chiromo: {
                            gold: '#AC8341',
                            navy: '#00183E',
                            grey: '#546078',
                            light: '#F3F4F6',
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 text-chiromo-grey font-sans antialiased flex flex-col min-h-screen">
{% if messages %}
    <div class="fixed top-5 right-5 z-50 flex flex-col gap-2">
        {% for message in messages %}
            <div class="bg-white border-l-4 {% if message.tags == 'success' %}border-green-500{% else %}border-red-500{% endif %} shadow-xl rounded-lg p-4 flex items-center pr-12 relative animate-fade-in-down">
                <div class="mr-3">
                    {% if message.tags == 'success' %}
                        <div class="bg-green-100 rounded-full p-2 text-green-600">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                        </div>
                    {% else %}
                        <div class="bg-red-100 rounded-full p-2 text-red-600">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                        </div>
                    {% endif %}
                </div>
                <div>
                    <h4 class="font-bold text-gray-800">Notification</h4>
                    <p class="text-sm text-gray-600">{{ message }}</p>
                </div>
                <button onclick="this.parentElement.remove()" class="absolute top-2 right-2 text-gray-400 hover:text-gray-600">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
        {% endfor %}
    </div>
{% endif %}

    {% block navbar %}
    <nav class="bg-white shadow-md border-t-4 border-chiromo-gold mb-8 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-3 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 md:h-20 transition-all duration-300">

                <div class="flex items-center">
                    <a href="/" class="flex-shrink-0 flex items-center gap-2">
                        <div class="w-8 h-8 md:w-10 md:h-10 bg-chiromo-navy rounded-full flex items-center justify-center text-white font-bold text-sm md:text-base">C</div>
                        <div class="flex flex-col">
                            <span class="text-chiromo-navy font-bold text-lg md:text-xl leading-none">CHIROMO</span>
                            <span class="text-chiromo-gold text-[10px] md:text-xs font-semibold tracking-widest uppercase hidden sm:block">Mental Health Hospital</span>
                        </div>
                    </a>
                </div>

                <div class="flex items-center gap-2 md:gap-4">
                    {% if user.is_authenticated %}
                         <a href="{% url 'dashboard' %}" class="text-sm md:text-base text-chiromo-navy hover:text-chiromo-gold font-medium transition whitespace-nowrap">
                            Dashboard
                         </a>
                         <form action="{% url 'logout' %}" method="post" class="inline">
                            {% csrf_token %}
                            <button type="submit" class="text-sm md:text-base text-gray-500 hover:text-red-600 font-medium transition whitespace-nowrap">
                                Logout
                            </button>
                         </form>
                    {% else %}
                        <a href="{% url 'login' %}" class="text-sm md:text-base text-chiromo-navy hover:text-chiromo-gold font-medium transition whitespace-nowrap">
                            Login
                        </a>
                        <a href="{% url 'register' %}" class="bg-chiromo-gold hover:bg-yellow-600 text-white text-xs md:text-base px-3 py-1.5 md:px-5 md:py-2 rounded-full font-medium transition shadow-sm whitespace-nowrap">
                            Get Started
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </nav>
    {% endblock %}

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex-grow w-full">
        {% block content %}
        {% endblock %}
    </main>

    {% block footer %}
    <footer class="bg-chiromo-navy text-white mt-12 py-8">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p>&copy; 2025 Chiromo Mental Health System. Recovery in Dignity.</p>
        </div>
    </footer>
    {% endblock %}

</body>
</html>